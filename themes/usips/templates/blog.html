{% extends "base.html" %}

{% block title %}{{ section.title }} | {{ config.title }}{% endblock %}

{% block content %}
<div class="page-header">
  <div class="container">
    <h1>{{ section.title }}</h1>
    {% if section.description %}
    <p class="page-subtitle">{{ section.description }}</p>
    {% endif %}
  </div>
</div>

<div class="container listing-page">
  <div class="article-grid">
    {% for page in section.pages %}
    <article class="article-card">
      {% if page.extra.blog_image %}
      <a href="{{ page.permalink }}" class="article-image">
        <img src="{{ get_url(path=page.extra.blog_image) }}"
             alt="{{ page.title }}"
             data-position="{{ page.extra.image_position | default(value='center') }}">
      </a>
      {% endif %}
      <div class="article-content">
        <h2><a href="{{ page.permalink }}">{{ page.title }}</a></h2>
        {% if page.description %}
        <p class="article-description">{{ page.description }}</p>
        {% endif %}
        {% if page.date %}
        <div class="article-meta">
          {% if page.extra.author %}
          {% set author = config.extra.authors[page.extra.author] %}
          <span class="author">{{ author.name }}</span>
          <span class="separator">·</span>
          {% endif %}
          <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
        </div>
        {% endif %}
        <a href="{{ page.permalink }}" class="read-more-link">Read More →</a>
      </div>
    </article>
    {% endfor %}
  </div>
</div>
{% endblock %}
